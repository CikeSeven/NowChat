{
  "manifestVersion": 2,
  "plugins": [
    {
      "id": "python",
      "name": "Python 基础库插件",
      "author": "NowChat",
      "description": "提供 Python 工具能力与基础科学计算库（NumPy/Pandas/OpenBLAS）。",
      "version": "1.0.0",
      "type": "python",
      "permissions": [
        "tool:web_fetch",
        "tool:python_exec",
        "hook:*"
      ],
      "packages": [
        {
          "id": "libgfortran",
          "name": "libgfortran",
          "description": "GNU Fortran runtime for OpenBLAS.",
          "version": "4.9",
          "url": "https://raw.githubusercontent.com/CikeSeven/NowChat/main/plugin_packages/chaquopy_libgfortran-4.9-0-py3-none-android_21_arm64_v8a.whl",
          "sha256": "0B4CAED1147F2A19707D4BA730AFEA57F7B8F2D8C046D8A48CF49377741C4604",
          "sizeBytes": 495679,
          "targetDir": "libs/libgfortran/4.9",
          "pythonPathEntries": [
            ".",
            "chaquopy/lib"
          ]
        },
        {
          "id": "libcxx",
          "name": "libc++",
          "description": "C++ runtime required by NumPy/Pandas.",
          "version": "11000",
          "url": "https://raw.githubusercontent.com/CikeSeven/NowChat/main/plugin_packages/chaquopy_libcxx-11000-0-py3-none-android_21_arm64_v8a.whl",
          "sha256": "0F14074F60C73F928ABF9E3E40B01DFD0D517BB99F9CF31DAE37C39E3D8A3C43",
          "sizeBytes": 308604,
          "targetDir": "libs/libcxx/11000",
          "pythonPathEntries": [
            ".",
            "chaquopy/lib"
          ]
        },
        {
          "id": "openblas",
          "name": "OpenBLAS",
          "description": "Native BLAS runtime for NumPy/Pandas.",
          "version": "0.2.20",
          "url": "https://raw.githubusercontent.com/CikeSeven/NowChat/main/plugin_packages/openblas-0.2.20-android-arm64.zip",
          "sha256": "10374BE78F36D826D27512B75C22E1D32AC34E79A1C2F55AB66492B20E44743E",
          "sizeBytes": 10151572,
          "targetDir": "libs/openblas/0.2.20",
          "pythonPathEntries": [
            ".",
            "chaquopy/lib"
          ],
          "dependencies": [
            "libgfortran"
          ]
        },
        {
          "id": "numpy",
          "name": "NumPy",
          "description": "Scientific computing library.",
          "version": "1.26.2",
          "url": "https://raw.githubusercontent.com/CikeSeven/NowChat/main/plugin_packages/numpy-1.26.2-android-arm64.zip",
          "sha256": "DF5A639462A905A015BB3F6BE6146E27C2C9A583421FA10ED17DE5A3249BBEAB",
          "sizeBytes": 17667810,
          "targetDir": "libs/numpy/1.26.2",
          "pythonPathEntries": [
            "."
          ],
          "dependencies": [
            "openblas",
            "libcxx"
          ]
        },
        {
          "id": "pandas",
          "name": "Pandas",
          "description": "Data analysis and table processing library.",
          "version": "1.5.0",
          "url": "https://raw.githubusercontent.com/CikeSeven/NowChat/main/plugin_packages/pandas-1.5.0-android-arm64.zip",
          "sha256": "5CCB00EC7BC54568402BD5AB80468D206800A4C4F75CF1BA7C14D222E3FE450D",
          "sizeBytes": 68481923,
          "targetDir": "libs/pandas/1.5.0",
          "pythonPathEntries": [
            "."
          ],
          "dependencies": [
            "numpy",
            "libcxx"
          ]
        }
      ],
      "tools": [
        {
          "name": "web_fetch",
          "description": "通过 HTTP GET 抓取公开网页文本。",
          "runtime": "builtin_web_fetch",
          "enabledByDefault": true,
          "timeoutSec": 20,
          "outputLimit": 12000,
          "parameters": {
            "type": "object",
            "properties": {
              "url": {
                "type": "string",
                "description": "要抓取的 URL（http/https）"
              },
              "max_chars": {
                "type": "integer",
                "minimum": 200,
                "maximum": 30000,
                "description": "返回内容最大字符数"
              }
            },
            "required": [
              "url"
            ]
          }
        },
        {
          "name": "python_exec",
          "description": "执行 Python 代码并返回 stdout/stderr。",
          "runtime": "builtin_python_exec",
          "enabledByDefault": true,
          "timeoutSec": 20,
          "outputLimit": 12000,
          "parameters": {
            "type": "object",
            "properties": {
              "code": {
                "type": "string",
                "description": "要执行的 Python 代码"
              },
              "timeout_sec": {
                "type": "integer",
                "minimum": 1,
                "maximum": 90,
                "description": "超时时间（秒）"
              }
            },
            "required": [
              "code"
            ]
          }
        }
      ],
      "hooks": [
        {
          "event": "app_start",
          "runtime": "log",
          "priority": 10
        },
        {
          "event": "app_resume",
          "runtime": "log",
          "priority": 10
        },
        {
          "event": "page_enter",
          "runtime": "log",
          "priority": 5
        },
        {
          "event": "tool_after_execute",
          "runtime": "log",
          "priority": 5
        }
      ]
    }
  ]
}
